<style>
table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}




a:hover, a:active {
  background-color: red;
}

select {
    width: 20%;
    height: 30pt;
    text-align-last:center;
}
</style>


{% extends "base.html" %}

{% block content %}

{% with messages = get_flashed_messages() %}
   {% if messages %}
      {% for message in messages %}
         {{ message }}
      {% endfor %}
   {% endif %}
{% endwith %}
 
<table id="tableID" border="1" style="cursor: pointer;">
    <tr class = "header">
        {% for header in headers %}
            <th> {{ header }}</th>
        {% endfor %}
    </tr>
    {% for _, values in cereals.items() %}
      {% for col, value in values.items() %}
        {% if col == 'id' %}
        <tr onclick="window.location='/list/{{ value }}';">
        {% endif %}
                <th> {{ value }} </th>

      {% endfor %}
      </tr>
    {% endfor %}
</table>
<br>
<div id="Dropdown operators">

</div>
<form method="POST" action="/list">
<table id = "filter">
  <tr>
  </tr>
  </table>
  <button type="button" onclick="addRow()" style="float: left;">Add Filter</button>
  <button type="button" onclick="deleteRow()" style="float: left;">Delete last Filter</button>
  <button class="button is-block is-info is-large is-fullwidth">Filter</button>
  
</form>
<script>
  function addRow() {
    var tablere = document.getElementById('filter').getElementsByTagName('tbody')[0];
    var fieldHeader = '<select name = field' + 1 + '>';
    var opheader = '<select name = operator' + 1 + '>';
    tablere.insertRow().innerHTML = ['<tr>',
                              '<select name = field>',
                              '{% for header in headers %}',
                              '<option value="{{header}}">{{header}}</option>',
                              '{% endfor %}',
                              '</select>',
                              '<select name = op>',
                                '<option value="eq">=</option>',
                                '<option value="noteq">!=</option>',
                                '<option value="less"><</option>',
                                '<option value="greater">></option>',
                                '<option value="lesseq"><=</option>',
                                '<option value="greatereq">>=</option>','</select>',
                                '<input type="text" name = value height="30pt">',
                                '</tr>'].join('\n');
  }

  function deleteRow() {
    var table = document.getElementById('filter');
    var rowCount = table.rows.length;
    table.deleteRow(rowCount -1);
  }
  </script>

{% endblock %}
